(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{AnUQ:function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABU1BMVEUAAACHiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI2HiI0AAACtRr50AAAAb3RSTlMAEnC54Pjqz5U6AXLy5a6UocX8uyIKrMM/FITz7ECr/ncl2fUueRzfEPG+SG074gK43mgwpi9WjhnrmCFj0bxGSpn2Do0TPnTttu8elyrw0pNN+ds8kKoD6F4mDD2Ih6nCRKUIQmmBc1iMo4+endYOCFabAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAQhJREFUKM91kOlXQUEYxodSGumKpB2RUkra0F4oJClLq3bae/7/bx1N7n3vnO7z6fee38x7nhnGWjGZOzotXd3WHqYPt/XC3qc4+p1wDVDhHoRniLdoeGR0bJzcmPD6eHvwTwaCqrFhiiwI2afdfzgTnuV095x6MIJ5fR/PQlTAYkxquoRlAbEVyaxiTYAlLpkEzAKS65LZwKaArW3J7GBXwN5+Sm/SzoyAAxzqRCqbU/vnj6gpeNX3HRdPMpqIoKQNp2flSvurqkDtXFOVC+Qur64TN/UkCre4I8qULuI39w+M1fFIFHt6bjRfXkWVN7xTRROHw0h94DP6v+FVfHEDpUAx2MdL3z/drSxI5yEIgwAAAABJRU5ErkJggg=="},MKiu:function(i,t,e){"use strict";var a=e("tDD6");e.n(a).a},nhkO:function(i,t){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABY0lEQVRIS72WPU7EMBCF31SR0oQtotzAAUTBAWjo4QBcADo6SijYko4OLsAB2J4CDkCBAPsGUYpsmkipBs0qXjkhicKP12U8ft/4jT0OYWQYY3YAnDDzIYA9AFtN+BLAGxE9AXhQSn0MyVDfhNZ6G8ANgKOxBJy5BYCLNE0/u/HfAMaYU2a+BRBMFLdhNRGdK6Xu3XUtgDHmmpkvfyjcCieiuVLqyn5cA5rM7/4ivhYlOrM7WQEaz19/YctQPjWAfamJBTx2CxoEAcIwRFEUo5uazWaoqgp1LZqtsUjT9JjkKDLze3dWFsZxjLIskWVZLyRJEkRRhDzPexMhol0BDBbWCvRBxuacWsxJa/0M4GDIhz6hKeKN3osAxGR7Q0etkJ3IEFvGrHNElgLgKUfTZi2xE8VXshsBeLfIb5G9H1PvF63pRf5axUaanUC8tmt70bw+OA7E35NpIV4ffbcv/cdvyxffVxZa1IOIHQAAAABJRU5ErkJggg=="},tDD6:function(i,t,e){},vSeB:function(i,t,e){"use strict";e.r(t);var a=e("m1cH"),s=e.n(a),n=e("AnUQ"),o=e.n(n),r=e("3eXy"),c=e("QYPn"),p=e("jbcO"),I=e("nhkO"),A=e.n(I),l=function(){var i=0;return function(t,e){clearTimeout(i),i=setTimeout(t,e)}}(),H={name:"Search",extends:{},props:{},data:function(){return{page:1,pageSize:10,keyWord:"",isSearch:!1,isLoadMoreShow:!0,title:"",iconSearch:o.a,hotAppList:[],appSearchList:[],iconClear:A.a,isNoMoredata:!1,loadNextPage:!1}},computed:{},components:{GhwIconMore:c.a,RankItem:p.a},watch:{title:function(){var i=this;this.page=1,l(function(){i.fetchData(),i.isNoMoredata=!1},400)}},methods:{fetchData:function(){var i=this,t=this.$refs.searchInput.value;if(""!==t){t=t.replace(/'/g,""),this.keyWord=t,this.isSearch=!0;var e={page:this.page,pageSize:this.pageSize,appName:t,v:(new Date).getTime()};this.appSearchList=[],Object(r.i)(e).then(function(t){t.data&&((0===t.data.appList.length||t.data.appList.length<i.pageSize)&&(i.isNoMoredata=!0),i.appSearchList=t.data.appList)},function(i){console.log(i)})}else this.isSearch=!1},loadMore:function(){var i=this;this.page++;var t={page:this.page,pageSize:this.pageSize,appName:this.keyWord,v:(new Date).getTime()};Object(r.i)(t).then(function(t){var e;(i.loadNextPage=!1,t.data)&&((0===t.data.appList.length||t.data.appList.length<i.pageSize)&&(i.isNoMoredata=!0),t.data.appList.length>0&&(e=i.appSearchList).push.apply(e,s()(t.data.appList)))},function(i){console.log(i)})},handleScroll:function(i){var t=document.getElementById("innerWrapper"),e=t.pageYOffset||t.scrollTop;t.scrollHeight===t.clientHeight+e&&(this.isNoMoredata||(this.loadNextPage=!0,this.loadMore()))},setHotAppList:function(){var i=this;Object(r.k)({}).then(function(t){t.data&&t.data.appList&&"[object Array]"===Object.prototype.toString.call(t.data.appList)&&t.data.appList.length>0&&(i.hotAppList=t.data.appList)},function(i){console.log(i)})},cancelSearch:function(){this.isSearch=!1,this.$router.go(-1)},goAppDetail:function(i){this.$router.push({path:"/common/detail",query:{appId:i}})},showDesc:function(i){this.$router.push({name:"Detail",query:{appId:i}})}},beforeMount:function(){},mounted:function(){this.setHotAppList(),document.getElementById("innerWrapper").addEventListener("scroll",this.handleScroll)},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){document.getElementById("innerWrapper").removeEventListener("scroll",this.handleScroll)}},h=(e("MKiu"),e("KHd+")),d=Object(h.a)(H,function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",[e("div",{staticClass:"warp"},[e("div",{staticClass:"main gary"},[e("div",{staticClass:"searchBox"},[e("div",{staticClass:"search-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.title,expression:"title"}],ref:"searchInput",attrs:{type:"text",id:"search-input",placeholder:i.$t("message.public.inputAppName")},domProps:{value:i.title},on:{input:function(t){t.target.composing||(i.title=t.target.value)}}}),i._v(" "),e("a",{staticClass:"icon"},[e("img",{attrs:{src:i.iconSearch}})]),i._v(" "),i.title.length>0?e("img",{staticClass:"clear-search",attrs:{src:i.iconClear},on:{click:function(t){i.title=""}}}):i._e()]),i._v(" "),e("a",{staticClass:"cancel",on:{click:i.cancelSearch}},[i._v(i._s(i.$t("message.public.cancel")))])]),i._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!i.isSearch,expression:"!isSearch"}],staticClass:"search-before",attrs:{id:"search-before"}},[e("div",{staticClass:"search-title"},[i._v(i._s(i.$t("message.public.hotSearch")))]),i._v(" "),e("div",{staticClass:"rankList"},i._l(i.hotAppList,function(t,a){return e("a",{key:"item"+a,staticClass:"search-name",on:{click:function(e){i.goAppDetail(t.appId)}}},[e("span",[i._v(i._s(t.appName))])])}))]),i._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:i.isSearch,expression:"isSearch"}],staticClass:"search-after",attrs:{id:"search-after"}},[e("div",{staticClass:"search-title"},[e("span",{attrs:{id:"search-id"}},[i._v(i._s(i.$t("message.public.searchResult",{string:i.keyWord})))])]),i._v(" "),e("mt-loadmore",{ref:"loadmore"},i._l(i.appSearchList,function(t,a){return e("rank-item",{key:"rankItem"+a,tag:"div",staticClass:"rank-item",attrs:{appId:t.appId,appIconUrl:t.appIconUrl,appName:t.appName,briefIntro:t.briefIntro,appUrl:t.appUrl,appTags:t.appTags,itemType:"home"},on:{clickHandle:function(e){i.showDesc(t.appId)}}})})),i._v(" "),e("ghw-icon-more",{attrs:{isNoMoredata:i.isNoMoredata,loadNextPage:i.loadNextPage,isNoContent:0===i.appSearchList.length,isShowBottomText:0!==i.appSearchList.length}})],1)])])])},[],!1,null,null,null);d.options.__file="index.vue";t.default=d.exports}}]);